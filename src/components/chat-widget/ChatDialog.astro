---
import { ChatWidget } from "./index";

const apiKey = process.env.PUBLIC_CHATBOT_API_KEY ?? "";
const apiUrl = process.env.PUBLIC_CHATBOT_URL ?? "http://localhost:8080";
---

<ChatWidget client:idle apiKey={apiKey} apiUrl={apiUrl} />

<style>
  :root {
    --footer-height: 4rem;
    --chat-bg: #0f0f0f;
    --chat-border: #1f1f1f;
  }
</style>

<script>
  window.addEventListener("toggle-chat", () => {
    const trigger = document.querySelector("[aria-controls]");
    if (trigger) {
      trigger.dispatchEvent(new MouseEvent("click", { bubbles: true }));
    }
  });
</script>
