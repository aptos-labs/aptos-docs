---
title: "Tutorial de Gobernanza Multisig"
description: "Aprende cómo crear y usar cuentas multisig para operaciones de gobernanza usando el CLI de Aptos con ejemplos prácticos para propuestas y ejecución de transacciones."
sidebar:
  label: "Tutorial Multisig"
---

import { Aside } from '@astrojs/starlight/components';

## Antecedentes

Esta sección se basa en el [tutorial de Argumentos en JSON](/build/cli/working-with-move-contracts/arguments-in-json-tutorial). Si no lo has hecho, por favor completa ese tutorial primero.

Este tutorial también hace referencia al [paquete de ejemplo `CliArgs`](https://github.com/aptos-labs/aptos-core/tree/main/aptos-move/move-examples/cli_args).

<Aside type="note" emoji="ℹ️">
  Si te gustaría seguir, ¡comienza completando los pasos del tutorial [Argumentos en JSON](/build/cli/working-with-move-contracts/arguments-in-json-tutorial)!
</Aside>

Para este ejemplo, Ace y Bee realizarán operaciones de gobernanza desde una cuenta "multisig v2" 2-de-2 (una cuenta multisig en cadena según [`multisig_account.move`](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/sources/multisig_account.move))

## Creación de cuenta

Dado que la cuenta de Ace se creó durante el tutorial [Argumentos en JSON](/build/cli/working-with-move-contracts/arguments-in-json-tutorial), comienza minando una cuenta de dirección vanity para Bee también:

```shellscript filename="Terminal"
aptos key generate \
    --vanity-prefix 0xbee \
    --output-file bee.key
```

<details>
  <summary>Salida</summary>

  ```shellscript filename="Terminal"
  {
    "Result": {
      "PublicKey Path": "bee.key.pub",
      "PrivateKey Path": "bee.key",
      "Account Address:": "0xbeec980219d246581cef5166dc6ba5fb1e090c7a7786a5176d111a9029b16ddc"
    }
  }
  ```
</details>

<Aside type="note" emoji="ℹ️">
  La dirección exacta de cuenta debería variar para cada ejecución, aunque el prefijo vanity no debería.
</Aside>

Almacena la dirección de Bee en una variable de shell, para que puedas llamarla inline más tarde:

```shellscript filename="Terminal"
# Tu dirección exacta variará
bee_addr=0xbeec980219d246581cef5166dc6ba5fb1e090c7a7786a5176d111a9029b16ddc
```

Financia la cuenta de Bee con el faucet:

```shellscript filename="Terminal"
aptos account fund-with-faucet --account $bee_addr
```

## Crear cuenta multisig

Ahora Ace y Bee pueden crear una cuenta multisig 2-de-2 donde ambos necesitan firmar para ejecutar transacciones:

```shellscript filename="Terminal"
aptos multisig create \
    --additional-owners $bee_addr \
    --num-signatures-required 2 \
    --private-key-file ace.key \
    --assume-yes
```

Esto creará una nueva cuenta multisig que requiere 2 de 2 firmas para ejecutar transacciones.

## Proponer una transacción

Para proponer una transacción en la cuenta multisig, Ace puede usar:

```shellscript filename="Terminal"
aptos multisig create-transaction \
    --multisig-address $multisig_addr \
    --function-id $ace_addr::cli_args::set_vals \
    --type-args \
        0x1::account::Account \
        0x1::chain_id::ChainId \
    --args \
        u8:123 \
        "hex:0x1234" \
        "string:hello, multisig world!" \
        "bool:[true, false, true]" \
        'address:[["0xace", "0xbee"]]' \
    --private-key-file ace.key \
    --assume-yes
```

## Aprobar y ejecutar transacción

Una vez propuesta la transacción, Bee puede aprobarla y ejecutarla:

```shellscript filename="Terminal"
aptos multisig approve \
    --multisig-address $multisig_addr \
    --sequence-number 1 \
    --private-key-file bee.key \
    --assume-yes
```

Luego ejecutar la transacción:

```shellscript filename="Terminal"
aptos multisig execute \
    --multisig-address $multisig_addr \
    --sequence-number 1 \
    --private-key-file bee.key \
    --assume-yes
```

## Beneficios de multisig

Las cuentas multisig proporcionan:

1. **Seguridad mejorada** - Requiere múltiples firmas para transacciones importantes
2. **Gobernanza descentralizada** - Permite toma de decisiones distribuida
3. **Protección contra llaves comprometidas** - Una sola llave comprometida no puede ejecutar transacciones
4. **Transparencia** - Todas las propuestas y aprobaciones son visibles en cadena

<Aside type="note" emoji="ℹ️">
  Las cuentas multisig son especialmente útiles para organizaciones, fondos de tesorería y operaciones de gobernanza que requieren consenso entre múltiples partes.
</Aside>
