---
title: "Módulos en Aptos"
---

import { Aside } from '@astrojs/starlight/components';

Aptos permite la publicación sin permisos de [módulos](/build/smart-contracts/book/modules-and-scripts)
dentro de un [paquete](/build/smart-contracts/book/packages), así como la [actualización](/build/smart-contracts/book/package-upgrades)
de aquellos que tienen establecida una política de compatibilidad apropiada.

Un módulo contiene varias estructuras y funciones, similar a Rust.

Durante el tiempo de publicación del paquete, se mantienen las siguientes restricciones:

- Tanto las estructuras como las firmas de funciones públicas se publican como inmutables.
- La función `init_module` juega un papel crucial en la inicialización del módulo:
  - Cuando un módulo se publica por primera vez (es decir, el módulo no existe en la cadena), la VM buscará y ejecutará la función `init_module(account: &signer)`.
  - Cuando se actualiza un módulo existente que ya está en la cadena, la función `init_module` NO será llamada.
  - El firmante de la cuenta que está publicando el módulo se pasa a la función `init_module`.
  - **Esta función debe ser privada y no debe devolver ningún valor.**
  - La función `init_module` se utiliza comúnmente para inicializar estructuras de datos específicas del módulo o establecer estados iniciales.

<Aside type="note">
  `init_module` es opcional. Solo necesitas implementarla si quieres:

  - Inicializar datos del módulo cuando se publica por primera vez
  - Establecer estados o configuraciones iniciales
  - Crear cuentas de recursos u otras tareas de configuración específicas del módulo
</Aside>

<Aside type="tip">
  Recuerda: La función `init_module` solo se llamará una vez en el ciclo de vida del módulo - cuando se publica por primera vez.
  Las actualizaciones posteriores del módulo no volverán a activar la función `init_module`.
</Aside>
