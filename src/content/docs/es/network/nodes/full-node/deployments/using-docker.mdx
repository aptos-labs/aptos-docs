---
title: "Usando Docker"
description: "Despliega un public fullnode (PFN) usando contenedores Docker con descarga automatizada de configuración y configuración de contenedor para sistemas x86-64."
sidebar:
  label: "Docker"
---

import { Aside } from '@astrojs/starlight/components';

Esta sección describe cómo configurar y ejecutar tu PFN usando Docker.

<Aside type="caution">
  **Soportado solo en CPUs x86-64**<br />
  Ejecutar aptos-core vía Docker actualmente solo está soportado en CPUs x86-64. Si tienes una Mac Apple M1/M2 (ARM64), usa
  el enfoque de código fuente aptos-core (arriba). Si el soporte M1/M2 es importante para ti, comenta en este
  issue: https://github.com/aptos-labs/aptos-core/issues/1412
</Aside>

1. Primero, instala [Docker](https://docs.docker.com/get-docker/).
2. Siguiente, ejecuta el siguiente script para preparar tu configuración local y directorio de datos para mainnet. Esto
   descargará el archivo de configuración `fullnode.yaml`, los archivos `genesis.blob` y `waypoint.txt` para tu PFN, y
   creará un directorio `data` para almacenar la base de datos de blockchain:

```shellscript filename="Terminal"
mkdir mainnet && cd mainnet
mkdir data && \
curl -O https://raw.githubusercontent.com/aptos-labs/aptos-core/mainnet/docker/compose/aptos-node/fullnode.yaml && \
curl -O https://raw.githubusercontent.com/aptos-labs/aptos-networks/main/mainnet/waypoint.txt && \
curl -O https://raw.githubusercontent.com/aptos-labs/aptos-networks/main/mainnet/genesis.blob
```

<Aside type="caution">
  **¿No quieres conectarte a mainnet?**<br />
  Para conectarte a otras redes (ej., `devnet` y `testnet`), puedes encontrar el génesis y waypoint aquí ➜ https://github.com/aptos-labs/aptos-networks.
  Asegúrate de descargar el `genesis.blob` y `waypoint.txt` para esas redes, en lugar de usar el génesis
  y waypoint señalados por los comandos `curl` arriba.
</Aside>

3. Siguiente, asegúrate de que el archivo de configuración `fullnode.yaml` que descargaste arriba contenga solo el siguiente contenido.
   Esto asegurará que esta configuración sea para un PFN y no para otro tipo de nodo (ej., validator o VFN):

```yaml filename="fullnode.yaml"
base:
  role: "full_node"
  data_dir: "/opt/aptos/data"
  waypoint:
    from_file: "/opt/aptos/etc/waypoint.txt"

execution:
  genesis_file_location: "/opt/aptos/etc/genesis.blob"

full_node_networks:
  - network_id: "public"
    discovery_method: "onchain"
    listen_address: "/ip4/0.0.0.0/tcp/6182"

api:
  enabled: true
  address: "0.0.0.0:8080"
```

<Aside type="caution">
  **¿No quieres permitir conexiones entrantes?** <br />
  Anula lo siguiente si no quieres que otros PFNs se conecten al tuyo: `listen_address: "/ip4/127.0.0.1/tcp/6182"`.
</Aside>

4. Siguiente, ejecuta el siguiente comando `docker`:

```shellscript filename="Terminal"
docker run --pull=always \
  --rm -p 8080:8080 \
  -p 9101:9101 -p 6180:6180 \
  -v $(pwd):/opt/aptos/etc -v $(pwd)/data:/opt/aptos/data \
  --workdir /opt/aptos/etc \
  --name=aptos-fullnode aptoslabs/validator:mainnet aptos-node \
  -f /opt/aptos/etc/fullnode.yaml
```

<Aside type="caution">
  **Acceso sudo**<br />
  Nota: podrías necesitar prefijar el comando docker con `sudo` dependiendo de tu configuración.
</Aside>

<Aside type="note">
  **Tags de Docker**<br />
  El tag `mainnet` siempre se refiere al último tag oficial de imagen Docker. Puedes encontrar el último hash para comparación en:
  https://github.com/aptos-labs/aptos-networks/tree/main/mainnet
</Aside>

Ahora has configurado exitosamente e iniciado la ejecución de un PFN en la mainnet de Aptos.

<Aside type="note">
  **Verifica tu PFN**
  Si quieres verificar que tu PFN esté ejecutándose correctamente, puedes seguir las instrucciones en la guía [Verificar un PFN](/es/network/nodes/full-node/verify-pfn).
</Aside>
