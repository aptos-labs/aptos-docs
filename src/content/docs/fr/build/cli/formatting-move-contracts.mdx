---
title: "Formatage des Contrats Move"
description: "Apprenez à formater et embellir le code des contrats intelligents Move en utilisant l'outil movefmt intégré dans la CLI Aptos avec des options de configuration."
sidebar:
  label: "Formatage Move"
---

`movefmt` est un outil de formatage qui rend le code Move beaucoup plus facile à écrire, lire et maintenir — améliorant considérablement l'expérience de développement sur Aptos.

## Installation

`movefmt` est intégré dans la CLI Aptos. Pour commencer à l'utiliser, installez-le d'abord en utilisant la commande de mise à jour de la CLI.

```shellscript filename="Terminal"
# Installer movefmt pour la première utilisation
aptos update movefmt
```

Pour installer une version spécifique de `movefmt` :

```shellscript filename="Terminal"
# Installer movefmt avec la cible <VERSION>
aptos update movefmt --target-version <VERSION>
```

La dernière version de `movefmt` peut être trouvée [ici](https://github.com/movebit/movefmt/releases).

## Formater votre code

Semblable à la compilation et aux tests, vous pouvez utiliser la commande suivante pour formater le package Move :

```shellscript filename="Terminal"
# Formater le package Move
aptos move fmt
```

Différentes façons d'émettre le résultat du formatage sont prises en charge :

```shellscript filename="Terminal"
# Formater et écraser tous les fichiers move cibles dans le package.
# C'est le comportement par défaut si --emit-mode n'est pas spécifié explicitement
aptos move fmt --emit-mode=overwrite

# Imprimer le résultat du formatage sur le terminal
aptos move fmt --emit-mode=std-out

# Imprimer le résultat du formatage dans de nouveaux fichiers avec le suffixe .fmt.out dans le même répertoire
aptos move fmt --emit-mode=new-file

# Imprimer la différence entre avant et après le formatage
aptos move fmt --emit-mode=diff
```

`movefmt` fournit également différentes options pour configurer la façon dont le code sera formaté.
Voici la configuration par défaut :

```
max_width = 90 # chaque ligne peut avoir au maximum 90 caractères
indent_size = 4 # l'indentation est de 4 espaces
tab_spaces = 4 # chaque tabulation équivaut à 4 espaces
hard_tabs = false # quand une tabulation est insérée, elle sera automatiquement remplacée par 4 espaces
```

Pour remplacer l'option par défaut, les utilisateurs peuvent soit spécifier un fichier de configuration `movefmt.toml`
et le placer dans le répertoire du package Move, soit le spécifier manuellement dans la ligne de commande :

```shellscript filename="Terminal"
# Lors du formatage du code, définir max_width à 80 et indent_size à 2
aptos move fmt --config max_width=80,indent_size=2
```

## Retours

Aptos Labs s'engage à améliorer l'expérience développeur pour les constructeurs utilisant Move sur Aptos.
Si vous êtes intéressé par la définition des directives de style pour Move, nous aimerions entendre vos commentaires et retours
[ici](https://github.com/movebit/movefmt/issues).
