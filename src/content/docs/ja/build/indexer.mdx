---
title: "インデクサー"
---

{/* <IndexerBetaNotice></IndexerBetaNotice> */}

Aptos インデクサーは以下のようなデータを取得できる API です:

1. 集計データ(例:NFT の総数は?)
2. 履歴データ(例:このアカウントが送信したトランザクションは?)
3. より単純な [Aptos ノード API](/ja/build/apis/fullnode-rest-api) からは取得が難しいデータ(例:"ExampleToken"という名前のトークンを所有しているアカウントは?)

import { Aside, CardGrid, LinkCard } from '@astrojs/starlight/components';

例えば,インデクサー API を使用して,任意のアカウントの代替可能資産(ファンジブルアセット)の残高を以下のように照会できます:

{/* <GraphQLEditor query={"type":"mdxJsxAttributeValueExpression","value":"`query GetFungibleAssetBalances($address: String, $offset: Int) {\ncurrent_fungible_asset_balances(\n  where: {owner_address: {_eq: $address}},\n  offset: $offset,\n  limit: 100,\n  order_by: {amount: desc}\n) {\n  asset_type\n  amount\n  __typename\n}\n}`","data":{"estree":{"type":"Program","start":500,"end":765,"body":[{"type":"ExpressionStatement","expression":{"type":"TemplateLiteral","start":500,"end":765,"loc":{"start":{"line":21,"column":9,"offset":500},"end":{"line":32,"column":2,"offset":765}},"expressions":[],"quasis":[{"type":"TemplateElement","start":501,"end":764,"loc":{"start":{"line":21,"column":10,"offset":501},"end":{"line":32,"column":1,"offset":764}},"value":{"raw":"query GetFungibleAssetBalances($address: String, $offset: Int) {\ncurrent_fungible_asset_balances(\n  where: {owner_address: {_eq: $address}},\n  offset: $offset,\n  limit: 100,\n  order_by: {amount: desc}\n) {\n  asset_type\n  amount\n  __typename\n}\n}","cooked":"query GetFungibleAssetBalances($address: String, $offset: Int) {\ncurrent_fungible_asset_balances(\n  where: {owner_address: {_eq: $address}},\n  offset: $offset,\n  limit: 100,\n  order_by: {amount: desc}\n) {\n  asset_type\n  amount\n  __typename\n}\n}"},"tail":true,"range":[501,764]}],"range":[500,765]},"start":500,"end":765,"loc":{"start":{"line":21,"column":9,"offset":500},"end":{"line":32,"column":2,"offset":765}},"range":[500,765]}],"sourceType":"module","comments":[],"loc":{"start":{"line":21,"column":9,"offset":500},"end":{"line":32,"column":2,"offset":765}},"range":[500,765]}}} variables={"type":"mdxJsxAttributeValueExpression","value":"`{\n\"address\": \"0x0000000000000000000000000000000000000000000000000000000000000001\",\n\"offset\": 0\n}`","data":{"estree":{"type":"Program","start":780,"end":882,"body":[{"type":"ExpressionStatement","expression":{"type":"TemplateLiteral","start":780,"end":882,"loc":{"start":{"line":33,"column":13,"offset":780},"end":{"line":36,"column":2,"offset":882}},"expressions":[],"quasis":[{"type":"TemplateElement","start":781,"end":881,"loc":{"start":{"line":33,"column":14,"offset":781},"end":{"line":36,"column":1,"offset":881}},"value":{"raw":"{\n\"address\": \"0x0000000000000000000000000000000000000000000000000000000000000001\",\n\"offset\": 0\n}","cooked":"{\n\"address\": \"0x0000000000000000000000000000000000000000000000000000000000000001\",\n\"offset\": 0\n}"},"tail":true,"range":[781,881]}],"range":[780,882]},"start":780,"end":882,"loc":{"start":{"line":33,"column":13,"offset":780},"end":{"line":36,"column":2,"offset":882}},"range":[780,882]}],"sourceType":"module","comments":[],"loc":{"start":{"line":33,"column":13,"offset":780},"end":{"line":36,"column":2,"offset":882}},"range":[780,882]}}}></GraphQLEditor> */}

<Aside type="note">
  インデクサーはチェーン上で発生するすべてのトランザクションを追跡し,そのデータを GraphQL API を通じて公開します.
</Aside>

## インデクサー API の使用

インデクサー API の使用方法,各テーブルの意味,およびインデクサーにカスタムデータを追加する方法について学びましょう.

<CardGrid>
  <LinkCard href="/ja/build/indexer/aptos-hosted" title="API へのアクセス" description="インデクサー API へのクエリ方法を学びます。" />

  <LinkCard href="/ja/build/indexer/indexer-reference" title="インデクサーテーブルリファレンス" description="インデクサーテーブルとそのスキーマの詳細なリファレンス。" />

  <LinkCard href="/ja/build/indexer/architecture" title="アーキテクチャ" description="インデクサーのアーキテクチャの詳細な説明。" />
</CardGrid>

### クエリ例

開始に役立つよう,インデクサーで最も一般的に使用されるクエリを紹介します.

<CardGrid>
  <LinkCard href="/ja/build/indexer/fungible-asset-balances" title="代替可能資産の残高を取得" description="アカウントが現在所有するすべての代替可能資産を取得します。" />

  <LinkCard href="/ja/build/indexer/account-transactions" title="アカウントのトランザクションを取得" description="アカウントに影響を与えるすべてのトランザクションを取得します。" />

  <LinkCard href="/ja/build/indexer/ans-lookup" title="Aptos 名を取得" description="アカウントに関連付けられた Aptos 名を取得します（ANS 経由）。" />

  <LinkCard href="/ja/build/indexer/fungible-asset-info" title="代替可能資産の情報を取得" description="特定の代替可能資産に関する詳細情報を取得します。" />

  <LinkCard href="/ja/build/indexer/get-nft-collections" title="NFT コレクションを取得" description="特定のアカウントが所有する NFT コレクションを取得します。" />

  <LinkCard href="/ja/build/indexer/get-nfts" title="NFT を取得" description="特定のアカウントが所有する個々の NFT を取得します。" />

  <LinkCard href="/ja/build/indexer/token-metadata" title="トークンメタデータを取得" description="特定のトークンのメタデータ情報を取得します。" />

  <LinkCard href="/ja/build/indexer/get-delegators" title="ステーキングプールの委任者数を取得" description="ステーキングプール内のアクティブな委任者数を取得します。" />
</CardGrid>

## インデクサーのカスタマイズ(上級者向け)

ホスト型インデクサー API が十分でない場合,独自のバージョンのインデクサーをカスタマイズしてホストすることができます.

<CardGrid>
  <LinkCard href="/ja/build/indexer/architecture" title="アーキテクチャ" description="インデクサーのアーキテクチャの詳細な説明。" />

  <LinkCard href="/ja/build/indexer/indexer-sdk" title="インデクサー SDK" description="インデクサー SDK でカスタムプロセッサを作成" />

  <LinkCard href="/ja/build/indexer/txn-stream" title="トランザクションストリーミングサービス" description="インデクサーが使用する GRPC トランザクションストリーミングサービス" />

  <LinkCard href="/ja/build/indexer/self-hosted" title="セルフホスト型インデクサー API" description="独自のインデクサー API をホストする" />
</CardGrid>

## レガシーインデクサー

レガシーインデクサーに関する情報は[こちら](/ja/build/indexer/legacy)をご覧ください.
