---
title: "Руководство по миграции с Ethereum на Aptos"
description: "Комплексное сравнение и руководство по миграции для разработчиков Ethereum, переходящих на разработку блокчейна Aptos"
sidebar:
  label: "Ethereum → Aptos"
---

Чтобы узнать больше о различиях и сходствах, см. [Aptos Learn](https://learn.aptoslabs.com/en/tutorials/ethereum-to-aptos-guide/cheat-sheet?workshop=eth-to-aptos)

### Обзор высокого уровня

| Функция                    | Ethereum                                                                                                                       | Aptos                                                                 |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
| **Смарт-контракты**        | Solidity, EVM                                                                                                                  | Move, MoveVM                                                          |
| **Преимущества**           | Зрелый, широкое принятие                                                                                                       | Масштабируемость, низкая задержка, предсказуемые комиссии             |
| **Комиссии за транзакции** | Переменные, могут быть высокими                                                                                                | Ниже и более предсказуемые                                           |
| **Адреса аккаунтов**       | 160 бит                                                                                                                        | 256 бит                                                               |
| **Структура аккаунта**     | Баланс в одном поле, использует nonce                                                                                          | Модули и ресурсы, использует sequence number                          |
| **Хранение данных**        | Patricia Merkle деревья                                                                                                        | Глобальное хранение с ресурсами и модулями                            |
| **Мышление о хранении**    | Хранение, основанное на контрактах                                                                                             | Аккаунт-центричное мышление для кода и данных                         |
| **Пример кода**            | [ERC-20](https://github.com/OpenZeppelin/openzeppelin-contracts/tree/master/contracts/token/ERC20)                             | [Fungible Asset](https://github.com/aptos-labs/aptos-core/blob/main/aptos-move/framework/aptos-framework/sources/fungible_asset.move) |
| **ID вызывающего**         | `msg.sender`                                                                                                                   | Ссылка `&signer`                                                       |
| **Возможность обновления** | Прокси-паттерны                                                                                                                | Прямые обновления модулей                                            |
| **Безопасность**           | Уязвим к атакам вроде реэнтранса                                                                                                | Снижает распространенные уязвимости                                   |
| **Тип диспетчеризации**    | Динамическая диспетчеризация                                                                                                    | Статическая диспетчеризация                                           |
| **Стандарт FT**            | [ERC-20](https://docs.openzeppelin.com/contracts/4.x/erc20)                                                                    | [Coin](/build/smart-contracts/aptos-coin) (legacy) и [Fungible Asset](/build/smart-contracts/fungible-asset) |
| **Стандарты NFT**          | [ERC-721](https://docs.openzeppelin.com/contracts/4.x/erc721), [ERC-1155](https://docs.openzeppelin.com/contracts/4.x/erc1155) | [Digital Asset](/build/smart-contracts/digital-asset)                 |
| **Взаимодействие с блокчейном** | [Библиотека Ethers.js](https://docs.ethers.org/v6/)                                                                             | [Aptos TypeScript SDK](/build/sdks/ts-sdk)                            |

<br />

### Подробное сравнение стандартов токенов

|                        | Solidity                                                               | Move (Aptos)                                                                 |
|------------------------|------------------------------------------------------------------------|------------------------------------------------------------------------------|
| **Структура токена**   | Каждый токен - это его собственный контракт.                          | Каждый токен - это типизированный `Coin` или `FungibleAsset` с использованием единственного переиспользуемого контракта. |
| **Стандарт токена**    | Должен соответствовать стандартам вроде ERC20; реализации могут различаться. | Единый интерфейс и реализация для всех токенов.                              |
| **Хранение баланса**   | Балансы хранятся в контракте с использованием структуры маппинга.     | **Ресурс-ориентированный баланс**: Балансы хранятся как ресурс в аккаунте пользователя. Ресурсы нельзя создавать произвольно, обеспечивая целостность стоимости токена. |
| **Механизм перевода**  | Токены могут быть переведены без явного разрешения получателя.       | За исключением конкретных случаев (как AptosCoin), токены обычно требуют полномочий `signer` получателя для перевода. |

<br />

### Подробное сравнение EVM и Move VM

- **EVM**: Известен своей гибкостью и динамической диспетчеризацией, что позволяет широкий спектр поведения смарт-контрактов. Эта гибкость, однако, может привести к сложностям в параллельном выполнении и сетевых операциях.
- **Move VM**: Фокусируется на безопасности и эффективности с более интегрированным подходом между VM и языком программирования. Его модель хранения данных позволяет лучшую параллелизацию, а статический метод диспетчеризации повышает безопасность и предсказуемость.

<br />

|                                 | EVM (Ethereum Virtual Machine)                                         | Move VM (Move Virtual Machine)                                     |
|---------------------------------|------------------------------------------------------------------------|-------------------------------------------------------------------|
| **Хранение данных**             | Данные хранятся в пространстве хранения смарт-контракта.              | Данные хранятся через смарт-контракты, аккаунты пользователей и объекты. |
| **Параллелизация**              | Параллельное выполнение ограничено из-за общего пространства хранения. | Больше параллельного выполнения благодаря гибкому дизайну разделенного хранения. |
| **Интеграция VM и языка**       | Отдельные слои для EVM и языков смарт-контрактов (например, Solidity). | Бесшовная интеграция между слоем VM и языком Move, с нативными функциями, написанными на Rust и исполняемыми в Move. |
| **Критические сетевые операции** | Реализация сетевых операций может быть сложной и не прямой.            | Критические операции вроде управления набором валидаторов реализованы нативно в Move, позволяя прямое выполнение. |
| **Вызов функций**               | Динамическая диспетчеризация позволяет произвольные вызовы смарт-контрактов. | Статическая диспетчеризация соответствует фокусу на безопасности и предсказуемом поведении. |
| **Безопасность типов**          | Типы контрактов предоставляют уровень безопасности типов.             | Структуры модулей и generics в Move предоставляют надежную безопасность типов. |
| **Безопасность транзакций**     | Использует nonces для порядка и безопасности транзакций.              | Использует sequence numbers для порядка и безопасности транзакций. |
| **Аутентифицированное хранение** | Да, с хранением смарт-контрактов.                                     | Да, используя модель ресурсов Move.                               |
| **Доступность объектов**        | Объекты не глобально доступны; привязаны к области смарт-контракта.   | Гарантированная глобальная доступность объектов.                   |
