---
title: "Rust SDK 示例代码"
description: "Aptos Rust SDK 完整示例列表及运行说明"
sidebar:
  label: "示例"
---

import { Aside } from '@astrojs/starlight/components';

有关解释 SDK 核心概念用法的示例代码，请参阅：

- [获取数据](/zh/build/sdks/rust-sdk/fetch-data-via-sdk)
- [构建交易](/zh/build/sdks/rust-sdk/building-transactions)

以下是额外资源以及 SDK 仓库中包含的完整可运行示例列表。

## 运行示例

SDK 仓库中的 [`examples` 目录](https://github.com/aptos-labs/aptos-rust-sdk/tree/main/examples) 包含各种示例，您可以运行并根据需要自定义。

要运行示例：

```shellscript filename="Terminal"
git clone https://github.com/aptos-labs/aptos-rust-sdk.git
cd aptos-rust-sdk
cargo run --example transfer --features "ed25519,faucet"
```

<Aside type="note">
  大多数示例需要 `ed25519` 和 `faucet` 功能特性标志。`ed25519` 功能提供默认签名方案，`faucet` 启用测试网账户充值。某些示例需要额外的功能特性，如下表所示。
</Aside>

## 基本操作

这些示例演示了与 Aptos 区块链的基本交互，如转账代币、查询余额和查询链上数据。

| 示例                    | 描述                 | 功能特性               |
| --------------------- | ------------------ | ------------------ |
| `transfer`            | 在测试网上的两个账户之间转账 APT | `ed25519`、`faucet` |
| `balance_checker`     | 查询一个或多个账户的 APT 余额  | `ed25519`          |
| `view_function`       | 调用链上视图函数并解析返回值     | `ed25519`          |
| `transaction_data`    | 按哈希或版本获取并显示详细交易数据  | `ed25519`、`faucet` |
| `transaction_waiting` | 提交交易并通过状态轮询等待确认    | `ed25519`、`faucet` |

## 账户管理

这些示例涵盖账户创建、多密钥配置和多签账户工作流程。

| 示例                   | 描述                    | 功能特性                           |
| -------------------- | --------------------- | ------------------------------ |
| `account_management` | 创建、充值和轮换账户认证密钥        | `ed25519`、`faucet`             |
| `multi_key_account`  | 创建由多个密钥和签名门限控制的账户     | `ed25519`、`secp256k1`、`faucet` |
| `multi_sig_account`  | 设置和使用具有多个所有者的多签账户     | `ed25519`、`faucet`             |
| `multisig_v2`        | 使用 v2 多签模块进行链上治理风格的提案 | `ed25519`、`faucet`             |

## 高级交易

这些示例展示了更复杂的交易模式，包括入口函数、模拟、多代理交易和赞助交易。

| 示例                      | 描述                        | 功能特性               |
| ----------------------- | ------------------------- | ------------------ |
| `entry_function`        | 使用类型化参数构建和提交入口函数负载        | `ed25519`、`faucet` |
| `advanced_transactions` | 演示批量提交、gas 调优和过期控制        | `ed25519`、`faucet` |
| `simulation`            | 模拟交易以估算 gas 并在不提交的情况下验证执行 | `ed25519`、`faucet` |
| `multi_agent`           | 构建需要多个发送者账户签名的交易          | `ed25519`、`faucet` |
| `sponsored_transaction` | 提交由单独账户支付 gas 费用的交易       | `ed25519`、`faucet` |
| `script_transaction`    | 编译并执行 Move 脚本作为交易负载       | `ed25519`、`faucet` |

## 智能合约

这些示例演示了部署 Move 模块、调用合约函数、读取合约状态和生成类型安全绑定。

| 示例                    | 描述                                       | 功能特性                        |
| --------------------- | ---------------------------------------- | --------------------------- |
| `deploy_module`       | 编译并将 Move 模块发布到区块链                       | `ed25519`、`faucet`          |
| `call_contract`       | 调用已部署 Move 模块上的入口函数                      | `ed25519`、`faucet`          |
| `read_contract_state` | 读取 Move 模块存储的资源和数据                       | `ed25519`                   |
| `contract_bindings`   | 使用 `aptos_contract!` 宏为模块生成类型安全的 Rust 绑定 | `ed25519`、`faucet`、`macros` |
| `codegen`             | 从链上模块 ABI 自动生成 Rust 类型和函数                | `ed25519`、`macros`          |
| `nft_operations`      | 创建集合、铸造代币和转移数字资产                         | `ed25519`、`faucet`          |

## 数据查询

这些示例展示了如何从 Aptos 网络查询事件和索引数据。

| 示例                | 描述                          | 功能特性                |
| ----------------- | --------------------------- | ------------------- |
| `event_queries`   | 按类型和账户监听和过滤链上事件             | `ed25519`           |
| `indexer_queries` | 查询 Aptos 索引器获取聚合的代币、币种和交易数据 | `ed25519`、`indexer` |

## 其他资源

- [SDK 源代码](https://github.com/aptos-labs/aptos-rust-sdk) -- 浏览带有内联文档和注释的实现。
- [docs.rs 参考](https://docs.rs/aptos-sdk/latest/aptos_sdk/) -- 带有搜索和交叉引用的完整 API 文档。
- [端到端测试](https://github.com/aptos-labs/aptos-rust-sdk/tree/main/tests) -- 最全面的 SDK 功能验证代码集，可作为高级用法模式的参考。
